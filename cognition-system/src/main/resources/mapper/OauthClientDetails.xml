<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.realm.cognitionauth.dao.OauthClientDetailsDao">


    <resultMap type="com.realm.cognitionauth.entity.OauthClientDetails" id="SysConfigResult">
    	<id     property="clientId"      column="client_id"      />
        <result property="resourceIds"    column="resource_ids"    />
        <result property="clientSecret"     column="client_secret"     />
        <result property="scope"   column="scope"   />
        <result property="authorizedGrantTypes"    column="authorized_grant_types"    />
        <!--<result property="webServerRedirectUrl"      column="create_by"      />-->
        <!--<result property="authorities"    column="create_time"    />-->
        <!--<result property="accessTokenValidity"      column="update_by"      />-->
        <!--<result property="refreshTokenValidity"    column="update_time"    />-->
        <!--<result property="autoapprove"    column="update_time"    />-->
    </resultMap>
    
    <sql id="selectConfigVo">
        select
            clientId,
            resourceIds,
            clientSecret,
            scope,
            authorizedGrantTypes,
            webServerRedirectUrl,
            authorities,
            accessTokenValidity,
            refreshTokenValidity,
            additionalInformation,
            autoapprove
		from oauth_client_details
    </sql>
    
    <!-- 查询条件 -->
	<sql id="sqlwhereSearch">
		<where>
			<if test="clientId !=null">
				and config_id = #{clientId}
			</if>
			<if test="configKey !=null and configKey != ''">
				and config_key = #{configKey}
			</if>
		</where>
	</sql>

    <select id="getOauthClientDetailsByClientId" parameterType="com.realm.cognitionsystem.entity.SysConfig" resultMap="SysConfigResult">
        <include refid="selectConfigVo"/>
        <include refid="sqlwhereSearch"/>
    </select>


    
</mapper>